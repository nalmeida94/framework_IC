{% extends 'base.html' %}

{% block content %}

<html>
	<body>
		<h1> Chart view: </h1>
		<br>

		<h2> Tags selected: </h2>
		{% if chosen %}						
			
			{% for tag in tags %}		
				<!--
					{% if tag.taginfo_idtaginfo1.idtaginfo = tagInfo.idtaginfo %}
						<div>
							<h3><a href = "http://127.0.0.1:8000/tags/get/{{ tag.idtag }}/">Tag {{ tagInfo.nome }}</a></h3>
								<p> {{ tag.datasource_idestacao_meteo }} </p>
						</div>
					{% endif %}														
				-->
				<div>
					<h4><a href = "http://127.0.0.1:8000/tags/get/{{ tag.idtag }}/">Tag {{ tag.taginfo_idtaginfo1 }}</a></h4>
						<p> {{ tag.datasource_idestacao_meteo }} </p>
				</div>
		
			{% endfor %}

			<hr size="4" width="100%"  noshade>

			<h2>Chart created: </h2>
			
			{% load gcharts %}
				
		{% gcharts %}
			<!-- Default options -->
			options = {
				        width: 460,
				        height: 300,
				    };
				    
				    <!-- Options for GeoChart -->
				    geo_opt = _clone(options);
				    geo_opt.width = "100%";
				    geo_opt.height = "100%";
				    
                    {% options geo_opt %}
						kind: "GeoChart",
						options: geo_opt,
                    {% endoptions %}
				    
				    <!-- Options for AreaChart -->
				    area_opt = _clone(options);
				    area_opt.title = "Values stored by this Tag."
				    
				    {% options area_opt %}
				        kind: "AreaChart",
				        options: area_opt,
				    {% endoptions %}
				    
				    <!-- Options for BarChart -->
				    bar_opt = _clone(area_opt)
				    
				    {% options bar_opt %}
				        kind: "BarChart",
				        options: bar_opt,
				    {% endoptions %}
				    
				    <!-- Options for LineChart -->
				    line_opt = _clone(area_opt)
				    
				    {% options line_opt %}
				        kind: "LineChart",
				        options: line_opt,
				    {% endoptions %}

			{% render "line_chart" "values" "line_opt" %}
		{% endgcharts %}

				<div class="grid_6">
                    <h2>LineChart</h2>
                    
                    <div id="line_chart">
                        <!-- Container for line_chart -->
                    </div>

                </div> 
			
		{% else %}
		<br>
		<br>
			<h3>None tag selected to create the chart.</h3>
		{% endif %}		

		                 
		<!--
		
		{% for value in values %}
			<p>{{ value.valor }} - {{ value.datahora }}</p>
		{% endfor %}

		-->
		
		
	</body>
</html>
{% endblock %}